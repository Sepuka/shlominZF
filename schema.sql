-- MySQL dump 10.13  Distrib 5.1.57, for suse-linux-gnu (i686)
--
-- Host: localhost    Database: shlomin
-- ------------------------------------------------------
-- Server version	5.1.57-log

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `acl`
--

DROP TABLE IF EXISTS `acl`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `acl` (
  `login` varchar(64) NOT NULL COMMENT 'Идентификатор пользователя',
  `hash` char(32) NOT NULL COMMENT 'хеш пароля',
  `role` set('guest','staff','administrator') NOT NULL DEFAULT 'guest',
  PRIMARY KEY (`login`),
  KEY `role` (`role`),
  KEY `hash` (`hash`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='Таблица контроля доступа';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `acl`
--

LOCK TABLES `acl` WRITE;
/*!40000 ALTER TABLE `acl` DISABLE KEYS */;
INSERT INTO `acl` VALUES ('admin','f1c2820be12b42bb0c4f7208919b5c0a','administrator');
/*!40000 ALTER TABLE `acl` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `articles`
--

DROP TABLE IF EXISTS `articles`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `articles` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `category` smallint(6) NOT NULL,
  `headline` varchar(255) NOT NULL DEFAULT '',
  `content` text NOT NULL,
  `createDate` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `changeDate` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  PRIMARY KEY (`id`),
  KEY `category` (`category`)
) ENGINE=InnoDB AUTO_INCREMENT=45 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `articles`
--

LOCK TABLES `articles` WRITE;
/*!40000 ALTER TABLE `articles` DISABLE KEYS */;
INSERT INTO `articles` VALUES (35,41,'Анализ сетевой активности с помощью MRTG','Описание программы MRTG анализирующей сетевой трафик через snmp','2011-10-18 16:55:06','0000-00-00 00:00:00'),(36,69,'Видеослежение','&nbsp;&nbsp;&nbsp;&nbsp; Для видеослежения я выбрал программу wxcam под линукс. Она умеет реагировать на движение и включать запись. Но этого мало, ведь злоумышленник может утащить комп вместе с данными, поэтому нужно писать видео на удаленный ресурс. Я выбрал один <a href=\"https://mydisk.se/web/main.php?show=home\">шведский ресурс</a> который бесплатно предоставляет 2 Gb и позволяет монтировать его в системе. Но оказалось что программа не сбрасывает на диск данные пока пишет видео. Точнее сказать сбрасывает если работает с \"обычными\" ФС и даже на самбовые диски пишет сразу же. Я же смонтировал этот диск с помощью программы wdfs. <pre class=\"prettyprint lang-sh\">sudo wdfs http://mydisk.se/USERNAME/backup/ /home/USERNAME/webdisk/ \\<br> -o username=user -o password=*** -o accept_sslcert -o allow_other</pre>&nbsp;&nbsp;&nbsp;&nbsp; В этом случае она сбрасывает данные только когда я ее закрываю. Я конечно разберусь еще и с этой программой и с ФС. Попробую узнать почему так происходит, может есть какие-то настройки размера буфера. А пока я начирикал <a href=\"freedata/copier.py\">прогу</a> которая каждые N секунд проверяет размеры всех файлов в указанной папке и сбрасывает их на этот диск, если они изменились. Запускть ее надо так: <pre class=\"prettyprint lang-sh\">./copier.py путь_к_папке_с_видео путь_к_удаленной_папке</pre> Я думаю время проверки можно поставить например секунд 20 - 30.<br><pre class=\"prettyprint lang-py\">__logFile   =   \"copier.log\"        # Файл для логов<br>__sleep     =   3                   # Время отслеживания изменений, в секундах<br>__matches   =   \"*.avi\"             # Шаблон файлов<br></pre>&nbsp;&nbsp;&nbsp;&nbsp; В первой переменной можно написать имя файла логов, но это вряд ли нужно, а во второй устанавливаете цифру. И каждые N секунд она будет проверять папку и копировать&nbsp; в нужную директорию если кто-то изменился в размере. Третий параметр - шаблон имени файлов, тут можно указать конкретный файл или как у меня, все видео.<br>','2011-10-28 14:32:33','2011-12-06 11:37:44'),(37,65,'Движок сайта','Движок сайта терпел много изменений и сейчас тоже терпит, все что я написал можно забрать <a href=\"https://github.com/Sepuka/shlominZF\">отсюда</a>. В свободное время я стараюсь его дописывать и еще много чего предстоит сделать. Изначально сайт размещался на роутере <a href=\"http://www.dlink.ru/ru/products/2/786.html\">dlink dir-320</a>, но очень медленно работал, что неудивительно. Сначала сайт использовал MySQL, затем SQLite, а потом я приобрел старый комп который был в разы сильнее роутера и тут я уже не так боролся за быстродействие.','2011-10-28 14:40:59','2011-10-28 15:26:16'),(38,67,'Авторизация с помощью SSL-сертификата','<div style=\"text-align: center;\"><b>Создание корневого сертификата</b></div>Корневой сертификат в реальном мире создается центром сертификации и все этому центру доверяют. Каждый кто хочет создать сертификат для сервера, платит деньги ЦС за подписывание их заявки на сертификат. В нашем случае мы создаем самоподписанный корневой сертификат самостоятельно. Ниже приводится пример команды:<br><pre class=\"prettyprint lang-sh\">openssl req -new -newkey rsa:1024 -nodes -keyout ca.key -x509 -days 500 \\<br>-subj /C=RU/ST=NW/L=Spb/O=caorg/OU=ca/CN=cacompany/emailAddress=почта@хост.ru -out ca.crt</pre><br>описание параметров:<br><i>req</i> - Запрос на создание нового сертификата; <i>new</i> - Создание запроса на сертификат (Certificate Signing Request=CSR); <i>newkey rsa:1024 -</i>&nbsp;Автоматически будет создан новый закрытый RSA ключ длиной 1024 бита; <i>nodes</i> - Не шифровать закрытый ключ; <i>keyout</i> - Закрытый ключ сохранить в файл ca.key; <i>x509</i> - Вместо создания CSR (см. опцию -new) создать самоподписанный сертификат; <i>days</i> - Срок действия сертификата 500 дней; <i>subj</i> /C=RU/ST=NW/L=Spb/O=caorg/OU=ca/CN=cacompany/emailAddress=почта@хост.ru. Данные сертификата, пары параметр=значение, перечисляются через слеш. <i>С</i> - Двухсимвольный код страны (Country); <i>ST</i> - Название региона (State Name); <i>L</i> - Название города (Locality Name); <i>O</i> - Название организации (Organization Name); <i>OU</i> - Название отдела (Organization Unit); <i>CN</i> - Имя сертификата, при создании серверных сертификатов используется доменное имя сайта, для клиентских сертификатов может быть использовано что угодно (Common Name); <i>emailAddress</i> - почтовый адрес (E-mail address) .<br><br><div style=\"text-align: center;\"><b>Создание сертификата для сервера</b></div>После того как мы создали центр сертификации, мы можем обратиться к нему для подписания нашего запроса на сертификат. Генерируем секретный ключ: <pre class=\"prettyprint lang-sh\">openssl genrsa -des3 -out server.key 1024</pre> Создаем запрос на сертификат: <pre class=\"prettyprint lang-sh\">openssl req -new -key server.key -out server.csr -subj /C=RU/ST=NW/L=Spb/O=serverorg/OU=server/CN=hostname/emailAddress=почта@хост.ru</pre> Важно чтобы параметр <i>CN</i> назывался также как и имя хоста вашего сайта! Подписываем наш запрос корневым сертификатом: <pre class=\"prettyprint lang-sh\">openssl x509 -req -in server.csr -out server.crt -sha1 -CA ca.crt -CAkey ca.key -CAcreateserial -days 500</pre> Опция CAcreateserial создаст файл ca.srl содержащую серийный номер сертификата. Если будем создавать еще сертификаты, пишем вместо нее <i>-CAserial путь_к_ca.srl</i> Создание сертификата для клиента <pre class=\"prettyprint lang-sh\">openssl req -new -newkey rsa:1024 -nodes -keyout client.key -subj /C=RU/ST=NW/L=Spb/O=client/OU=client/CN=supersecure/emailAddress=почта@хост.ru -out client.csr</pre> Мне понадобилось добавить еще одно поле в сертификат - surname. Для этого я к строке subj добавил SN=3616130175, это идентификатор для клиента используемый скриптом. Далее нужно подписать запрос на клиентский сертификат командой:openssl ca -config ca.conf -in client.csr -out client.crt -batchТут нужно уточнить: чтобы подписать клиентский сертификат я сделал следующее - создал папку db, в ней папки certs и newcerts. В db создал файл скопировал наш ca.srl с серийным номером. Это начальное значение серийного номера для сертификата, оно будет изменяться при создании новых сертификатов. Если его оставить пустым получим ошибку: unable to load number from ./db/имя_файла error while loading serial number. И еще нужно создать пустой db/index.txt. Теперь можно создать конфиг. Делаем файл ca.conf с содержимым:[ ca ]default_ca             = CA_CLIENT       # При подписи сертификатов использовать секцию CA_CLIENT[ CA_CLIENT ]dir                    = ./db            # Каталог для служебных файловcerts                  = $dir/certs      # Каталог для сертификатовnew_certs_dir          = $dir/newcerts   # Каталог для новых сертификатовdatabase               = $dir/index.txt  # Файл с базой данных подписанных сертификатовserial                 = $dir/ca.srl     # Файл содержащий серийный номер сертификата (в шестнадцатиричной СИ)certificate            = ./ca.crt        # Файл сертификата CAprivate_key            = ./ca.key        # Файл закрытого ключа CAdefault_days           = 365             # Срок действия подписываемого сертификатаdefault_crl_days       = 7               # Срок действия CRL (см. $4)default_md             = md5             # Алгоритм подписиpolicy                 = policy_anything # Название секции с описанием политики в отношении данных сертификата[ policy_anything ]countryName            = optional        # Код страны - не обязателенstateOrProvinceName    = optional        # ......localityName           = optional        # ......organizationName       = optional        # ......organizationalUnitName = optional        # ......commonName             = supplied        # ...... - обязателенemailAddress           = optional        # ......surname               = suppliedэкспорт в pkcs12 для браузеров:openssl pkcs12 -export -in client.crt -inkey client.key -certfile ca.crt -out client.p12 -passout pass:1234проверка правильностиopenssl verify -CAfile ca.crt client.crtopenssl verify -CAfile ca.crt server.crtДалее редактируем конфиг апача<virtualhost 127.0.0.2:443=\"\">SSLEngine onSSLProtocol all -SSLv2SSLCipherSuite ALL:!ADH:!EXPORT56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+EXP:+eNULLSSLVerifyClient requireSSLOptions +ExportCertData  +StdEnvVars #Первая директива покажет сертификат сервера и клиента, вторая - распарсит значенияDocumentRoot /srv/www/supersecureServerName supersecureServerAdmin admin@server.ruIndexOptions charset=UTF-8ErrorLog /srv/www/supersecure/errors.logCustomLog /srv/www/supersecure/custom.log \"%t %h %{SSL_PROTOCOL}x %{SSL_CIPHER}x \\\"%r\\\" %b\"SSLCertificateFile /etc/apache2/ssl.crt/server.crtSSLCertificateKeyFile /etc/apache2/ssl.key/server.keySSLCACertificatePath /etc/apache2/ssl.crt/SSLCACertificateFile /etc/apache2/ssl.crt/ca.crtSSLCertificateChainFile /etc/apache2/ssl.crt/ca.crtSSLCARevocationFile /etc/apache2/ssl.crl/ca.crl</virtualhost>хост для проверки работы ssl у меня создан ip-based. так работает и сам хост supersecure и та директория которую я хочу защитить ssl-авторизацией, теперь введем дополнительное требование в htaccess в той директорииSSLRequire %{SSL_CLIENT_S_DN_O} eq \"client\"теперь сервер будет требовать чтобы организация клиента называлась \"client\", если я изменю требование на такое:SSLRequire %{SSL_CLIENT_S_DN_O} eq \"client1\", то получу код ошибки 403 в браузере. Т.о. все правильно работает.Можно усложнить условие верификации клиента например так:SSLRequire (%{SSL_CLIENT_S_DN_O} eq \"client\") and (%{SSL_CLIENT_S_DN_OU} in {\"client\"}) and (%{SSL_CLIENT_I_DN_O} eq \"caorg\") and (%{SSL_CLIENT_I_DN_OU} eq \"ca\")т.е. указать что сертификат должен быть подписан организацией caorg и отделом организации ca. Переменные можно посмотреть тут, а свои данные можно посмотреть так:openssl x509 -in client.crt -text -nooutв результатах последней команды, нужно смотреть на строку Issuer: C=RU, ST=NW, L=Spb, O=caorg, OU=ca, CN=cacompany/emailAddress=почта - это строка того сертификата (в данном случае это корневой) которым подписывали проверяемый (в нашем случае это клиентский) и на строку Subject: C=RU, ST=NW, L=Spb, O=client, OU=client, CN=supersecure/emailAddress=почта - это данные клиентского сертификата. Соответственно можно различать параметры при указании требований при авторизации, ssl_client_s_dn_o для клиентского сертификата (от слова subject) и ssl_client_i_dn_o для подписывающего (от слова issuer).особенности:если указать SSLVerifyClient require то сертификат требоваться будет обязательно, причем ЛЮБОЙ, т.к. требования не указаны (в нашем случае это для корня), если импортировать в браузер сертификат, то все будет работать, а wgetом не отдаст страницу если специально не посылать. Если указать optional, то будет пускать без сертификата.Возможные трудности:может не работать из-за отсутствия списка отзывов, создается командой openssl ca -gencrl -config ca.conf -out ca.crl и добавлением директивы SSLCARevocationFile в настройки апача;требования к сертификату (директива SSLRequire) у меня прописаны в htaccess для защищаемой папки, если ее прописывать в параметр directory для хоста, то наверно нужно дублировать все опции для хоста, т.е. прописать SSLCACertificateFile, SSLVerifyClient... а просто включением одной SSLRequire не обойтись, работать не будет.если хочется получить страничку через Wget то следует написать что-то вроде wget --no-check-certificate --secure-protocol=auto --certificate=client.crt --private-key=client.key https://supersecure/secure/secure.php т.е. не забыть опцию --private-key','2011-11-07 17:10:34','2011-11-08 10:28:15'),(39,41,'tcpdump','<span style=\"font-family: \"PT Sans\", arial, serif; font-size: 13px; \">&nbsp;Пример команды для отлова \"значащих\" пакетов от конкретного пользователя на конкретный сайт. Размеры от 600 до 700 символов выбраны мной экспериментально. В пакетах такой величины с наибольшей долей вероятности будет содержаться логин и пароль, но конечно при условии если пользователь залогинится после запуска программы. Если он уже в системе, то можно брать cookie, но логин с паролем конечно иметь интереснее.</span><br style=\"font-family: \"PT Sans\", arial, serif; font-size: 13px; \"><pre class=\"prettyprint lang-sh\" style=\"margin-top: 0px; margin-bottom: 0px; padding-top: 2px; padding-right: 2px; padding-bottom: 2px; padding-left: 2px; border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-top-style: solid; border-right-style: solid; border-bottom-style: solid; border-left-style: solid; border-top-color: rgb(136, 136, 136); border-right-color: rgb(136, 136, 136); border-bottom-color: rgb(136, 136, 136); border-left-color: rgb(136, 136, 136); font-size: 13px; \"><span class=\"pln\">tcpdump </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">-</span><span class=\"pln\">s </span><span class=\"lit\" style=\"color: rgb(0, 102, 102); \">0</span><span class=\"pln\"> </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">-</span><span class=\"pln\">l </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">-</span><span class=\"pln\">A dst vkontakte</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">.</span><span class=\"pln\">ru and src </span><span class=\"lit\" style=\"color: rgb(0, 102, 102); \">192.168</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">.</span><span class=\"lit\" style=\"color: rgb(0, 102, 102); \">0.11</span><span class=\"pln\"> and greater </span><span class=\"lit\" style=\"color: rgb(0, 102, 102); \">600</span><span class=\"pln\"> and less </span><span class=\"lit\" style=\"color: rgb(0, 102, 102); \">700</span><span class=\"pln\"> </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">-</span><span class=\"pln\">w </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">/</span><span class=\"pln\">opt</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">/</span><span class=\"pln\">var</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">/</span><span class=\"pln\">log</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">/</span><span class=\"pln\">vkontakte</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">.</span><span class=\"pln\">log </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">&amp;</span><p style=\"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; \"></p></pre><span style=\"font-family: \"PT Sans\", arial, serif; font-size: 13px; \">Привожу пример запроса которые поймался</span><br style=\"font-family: \"PT Sans\", arial, serif; font-size: 13px; \"><pre class=\"prettyprint lang-sh\" style=\"margin-top: 0px; margin-bottom: 0px; padding-top: 2px; padding-right: 2px; padding-bottom: 2px; padding-left: 2px; border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-top-style: solid; border-right-style: solid; border-bottom-style: solid; border-left-style: solid; border-top-color: rgb(136, 136, 136); border-right-color: rgb(136, 136, 136); border-bottom-color: rgb(136, 136, 136); border-left-color: rgb(136, 136, 136); font-size: 13px; \"><span class=\"pln\">POST </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">/?</span><span class=\"pln\">act</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">=</span><span class=\"pln\">login HTTP</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">/</span><span class=\"lit\" style=\"color: rgb(0, 102, 102); \">1.1</span><span class=\"pln\"><br></span><span class=\"typ\" style=\"color: rgb(102, 0, 102); \">Host</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">:</span><span class=\"pln\"> login</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">.</span><span class=\"pln\">vk</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">.</span><span class=\"pln\">com<br></span><span class=\"typ\" style=\"color: rgb(102, 0, 102); \">User</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">-</span><span class=\"typ\" style=\"color: rgb(102, 0, 102); \">Agent</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">:</span><span class=\"pln\"> </span><span class=\"typ\" style=\"color: rgb(102, 0, 102); \">Mozilla</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">/</span><span class=\"lit\" style=\"color: rgb(0, 102, 102); \">5.0</span><span class=\"pln\"> </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">(</span><span class=\"pln\">X11</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">;</span><span class=\"pln\"> U</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">;</span><span class=\"pln\"> </span><span class=\"typ\" style=\"color: rgb(102, 0, 102); \">Linux</span><span class=\"pln\"> i686</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">;</span><span class=\"pln\"> ru</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">;</span><span class=\"pln\"> rv</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">:</span><span class=\"lit\" style=\"color: rgb(0, 102, 102); \">1.9</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">.</span><span class=\"lit\" style=\"color: rgb(0, 102, 102); \">2.12</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">)</span><span class=\"pln\"> </span><span class=\"typ\" style=\"color: rgb(102, 0, 102); \">Gecko</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">/</span><span class=\"lit\" style=\"color: rgb(0, 102, 102); \">20101026</span><span class=\"pln\"> SUSE</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">/</span><span class=\"lit\" style=\"color: rgb(0, 102, 102); \">3.6</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">.</span><span class=\"lit\" style=\"color: rgb(0, 102, 102); \">12</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">-</span><span class=\"lit\" style=\"color: rgb(0, 102, 102); \">0.7</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">.</span><span class=\"lit\" style=\"color: rgb(0, 102, 102); \">1</span><span class=\"pln\"> </span><span class=\"typ\" style=\"color: rgb(102, 0, 102); \">Firefox</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">/</span><span class=\"lit\" style=\"color: rgb(0, 102, 102); \">3.6</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">.</span><span class=\"lit\" style=\"color: rgb(0, 102, 102); \">12</span><span class=\"pln\"> GTB7</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">.</span><span class=\"lit\" style=\"color: rgb(0, 102, 102); \">1</span><span class=\"pln\"><br></span><span class=\"typ\" style=\"color: rgb(102, 0, 102); \">Accept</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">:</span><span class=\"pln\"> text</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">/</span><span class=\"pln\">html</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">,</span><span class=\"pln\">application</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">/</span><span class=\"pln\">xhtml</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">+</span><span class=\"pln\">xml</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">,</span><span class=\"pln\">application</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">/</span><span class=\"pln\">xml</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">;</span><span class=\"pln\">q</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">=</span><span class=\"lit\" style=\"color: rgb(0, 102, 102); \">0.9</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">,*/*;</span><span class=\"pln\">q</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">=</span><span class=\"lit\" style=\"color: rgb(0, 102, 102); \">0.8</span><span class=\"pln\"><br></span><span class=\"typ\" style=\"color: rgb(102, 0, 102); \">Accept</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">-</span><span class=\"typ\" style=\"color: rgb(102, 0, 102); \">Language</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">:</span><span class=\"pln\"> ru</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">-</span><span class=\"pln\">ru</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">,</span><span class=\"pln\">ru</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">;</span><span class=\"pln\">q</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">=</span><span class=\"lit\" style=\"color: rgb(0, 102, 102); \">0.8</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">,</span><span class=\"pln\">en</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">-</span><span class=\"pln\">us</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">;</span><span class=\"pln\">q</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">=</span><span class=\"lit\" style=\"color: rgb(0, 102, 102); \">0.5</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">,</span><span class=\"pln\">en</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">;</span><span class=\"pln\">q</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">=</span><span class=\"lit\" style=\"color: rgb(0, 102, 102); \">0.3</span><span class=\"pln\"><br></span><span class=\"typ\" style=\"color: rgb(102, 0, 102); \">Accept</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">-</span><span class=\"typ\" style=\"color: rgb(102, 0, 102); \">Encoding</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">:</span><span class=\"pln\"> gzip</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">,</span><span class=\"pln\">deflate<br></span><span class=\"typ\" style=\"color: rgb(102, 0, 102); \">Accept</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">-</span><span class=\"typ\" style=\"color: rgb(102, 0, 102); \">Charset</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">:</span><span class=\"pln\"> windows</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">-</span><span class=\"lit\" style=\"color: rgb(0, 102, 102); \">1251</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">,</span><span class=\"pln\">utf</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">-</span><span class=\"lit\" style=\"color: rgb(0, 102, 102); \">8</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">;</span><span class=\"pln\">q</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">=</span><span class=\"lit\" style=\"color: rgb(0, 102, 102); \">0.7</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">,*;</span><span class=\"pln\">q</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">=</span><span class=\"lit\" style=\"color: rgb(0, 102, 102); \">0.7</span><span class=\"pln\"><br></span><span class=\"typ\" style=\"color: rgb(102, 0, 102); \">Keep</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">-</span><span class=\"typ\" style=\"color: rgb(102, 0, 102); \">Alive</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">:</span><span class=\"pln\"> </span><span class=\"lit\" style=\"color: rgb(0, 102, 102); \">115</span><span class=\"pln\"><br></span><span class=\"typ\" style=\"color: rgb(102, 0, 102); \">Connection</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">:</span><span class=\"pln\"> keep</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">-</span><span class=\"pln\">alive<br></span><span class=\"typ\" style=\"color: rgb(102, 0, 102); \">Referer</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">:</span><span class=\"pln\"> http</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">://</span><span class=\"pln\">vkontakte</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">.</span><span class=\"pln\">ru</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">/</span><span class=\"pln\"><br></span><span class=\"typ\" style=\"color: rgb(102, 0, 102); \">Content</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">-</span><span class=\"typ\" style=\"color: rgb(102, 0, 102); \">Type</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">:</span><span class=\"pln\"> application</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">/</span><span class=\"pln\">x</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">-</span><span class=\"pln\">www</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">-</span><span class=\"pln\">form</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">-</span><span class=\"pln\">urlencoded<br></span><span class=\"typ\" style=\"color: rgb(102, 0, 102); \">Content</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">-</span><span class=\"typ\" style=\"color: rgb(102, 0, 102); \">Length</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">:</span><span class=\"pln\"> </span><span class=\"lit\" style=\"color: rgb(0, 102, 102); \">112</span><span class=\"pln\"><br><br>from_host</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">=</span><span class=\"pln\">vkontakte</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">.</span><span class=\"pln\">ru</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">&amp;</span><span class=\"pln\">captcha_key</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">=&amp;</span><span class=\"pln\">captcha_sid</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">=&amp;</span><span class=\"pln\">expire</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">=&amp;</span><span class=\"pln\">al_frame</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">=</span><span class=\"lit\" style=\"color: rgb(0, 102, 102); \">1</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">&amp;</span><span class=\"pln\">email</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">=</span><span class=\"pln\">user</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">%</span><span class=\"lit\" style=\"color: rgb(0, 102, 102); \">40yandex</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">.</span><span class=\"pln\">ru</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">&amp;</span><span class=\"pln\">pass</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">=</span><span class=\"pln\">password</span></pre><span style=\"font-family: \"PT Sans\", arial, serif; font-size: 13px; \">Это просто \"мем\" для себя. Параметр -l здесь необходим для того чтобы при демонизации процесса с помощью &amp; программа писала вывод в файл, если не указать, то файл останется пустым. Еще нужно помнить о том, что в этом случае мы не сможем прочитать сами запросы, они запишутся в бинарном виде. А заголовки сможем. Поэтому если нужно читать сами тела запросов, не указывайте параметр -l и не пишите в файл, а пишите на экран, там будет все видно.</span>','2011-11-08 12:18:51','0000-00-00 00:00:00'),(40,41,'dialog. Управление Apache','<span style=\"font-family: \"PT Sans\", arial, serif; font-size: 13px; \">В журнале \"Системный администратор\" 2005 год за февраль наткнулся на статью про использование UNIX-утилиты dialog с помощью которой можно делать ASCII-графические приложения для удобного администрирования. Тот пример который был в журнале у меня не работал, поэтому я его модернизировал и вот выкладываю.</span><br style=\"font-family: \"PT Sans\", arial, serif; font-size: 13px; \"><pre class=\"prettyprint lang-sh\" style=\"margin-top: 0px; margin-bottom: 0px; padding-top: 2px; padding-right: 2px; padding-bottom: 2px; padding-left: 2px; border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-top-style: solid; border-right-style: solid; border-bottom-style: solid; border-left-style: solid; border-top-color: rgb(136, 136, 136); border-right-color: rgb(136, 136, 136); border-bottom-color: rgb(136, 136, 136); border-left-color: rgb(136, 136, 136); font-size: 13px; \"><span class=\"com\" style=\"color: rgb(136, 0, 0); \">#!/bin/sh</span><span class=\"pln\"><br>dialog </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">--</span><span class=\"pln\">title </span><span class=\"str\" style=\"color: rgb(0, 136, 0); \">\"Apache interface\"</span><span class=\"pln\"> </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">\\</span><span class=\"pln\"><br>&nbsp; &nbsp; </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">--</span><span class=\"pln\">menu </span><span class=\"str\" style=\"color: rgb(0, 136, 0); \">\"<br>Данный сценарий управляет web-сервером Apache.<br>Выберите действие из предложенных ниже:\"</span><span class=\"pln\"> </span><span class=\"lit\" style=\"color: rgb(0, 102, 102); \">15</span><span class=\"pln\"> </span><span class=\"lit\" style=\"color: rgb(0, 102, 102); \">50</span><span class=\"pln\"> </span><span class=\"lit\" style=\"color: rgb(0, 102, 102); \">7</span><span class=\"pln\"> </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">\\</span><span class=\"pln\"><br>&nbsp; &nbsp; start </span><span class=\"str\" style=\"color: rgb(0, 136, 0); \">\"Запуск сервера Apache\"</span><span class=\"pln\"> </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">\\</span><span class=\"pln\"><br>&nbsp; &nbsp; stop </span><span class=\"str\" style=\"color: rgb(0, 136, 0); \">\"Останов сервера Apache\"</span><span class=\"pln\"> </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">\\</span><span class=\"pln\"><br>&nbsp; &nbsp; restart </span><span class=\"str\" style=\"color: rgb(0, 136, 0); \">\"\"Жесткий\" перезапуск\"</span><span class=\"pln\"> </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">\\</span><span class=\"pln\"><br>&nbsp; &nbsp; graceful </span><span class=\"str\" style=\"color: rgb(0, 136, 0); \">\"\"Мягкий\" перезапуск\"</span><span class=\"pln\"> </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">\\</span><span class=\"pln\"><br>&nbsp; &nbsp; configtest </span><span class=\"str\" style=\"color: rgb(0, 136, 0); \">\"Тест конфигурационного файла\"</span><span class=\"pln\"> </span><span class=\"lit\" style=\"color: rgb(0, 102, 102); \">2</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">&gt;</span><span class=\"pln\">apctl</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">.</span><span class=\"pln\">tmp<br><br>UCOMMAND</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">=</span><span class=\"str\" style=\"color: rgb(0, 136, 0); \">`cat apctl.tmp`</span><span class=\"pln\"><br><br></span><span class=\"kwd\" style=\"color: rgb(0, 0, 136); \">if</span><span class=\"pln\"> </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">[[</span><span class=\"pln\"> $UCOMMAND </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">!=</span><span class=\"pln\"> </span><span class=\"str\" style=\"color: rgb(0, 136, 0); \">\"\"</span><span class=\"pln\"> </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">]];</span><span class=\"pln\"> </span><span class=\"kwd\" style=\"color: rgb(0, 0, 136); \">then</span><span class=\"pln\"><br>&nbsp; &nbsp; dialog </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">--</span><span class=\"pln\">title </span><span class=\"str\" style=\"color: rgb(0, 136, 0); \">\"confirm command\"</span><span class=\"pln\"> </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">\\</span><span class=\"pln\"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">--</span><span class=\"pln\">yesno </span><span class=\"str\" style=\"color: rgb(0, 136, 0); \">\"Выполнить следующую команду ${UCOMMAND}?\"</span><span class=\"pln\"> </span><span class=\"lit\" style=\"color: rgb(0, 102, 102); \">10</span><span class=\"pln\"> </span><span class=\"lit\" style=\"color: rgb(0, 102, 102); \">40</span><span class=\"pln\"><br><br>&nbsp; &nbsp; </span><span class=\"kwd\" style=\"color: rgb(0, 0, 136); \">if</span><span class=\"pln\"> </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">[</span><span class=\"pln\"> $</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">?</span><span class=\"pln\"> </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">=</span><span class=\"pln\"> </span><span class=\"lit\" style=\"color: rgb(0, 102, 102); \">0</span><span class=\"pln\"> </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">];</span><span class=\"pln\"> </span><span class=\"kwd\" style=\"color: rgb(0, 0, 136); \">then</span><span class=\"pln\"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class=\"kwd\" style=\"color: rgb(0, 0, 136); \">if</span><span class=\"pln\"> </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">[</span><span class=\"pln\"> $UCOMMAND </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">=</span><span class=\"pln\"> </span><span class=\"str\" style=\"color: rgb(0, 136, 0); \">\"configtest\"</span><span class=\"pln\"> </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">];</span><span class=\"pln\"> </span><span class=\"kwd\" style=\"color: rgb(0, 0, 136); \">then</span><span class=\"pln\"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; sudo </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">/</span><span class=\"pln\">usr</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">/</span><span class=\"pln\">sbin</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">/</span><span class=\"pln\">apache2ctl </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">-</span><span class=\"pln\">S<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class=\"kwd\" style=\"color: rgb(0, 0, 136); \">else</span><span class=\"pln\"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; sudo </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">/</span><span class=\"pln\">usr</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">/</span><span class=\"pln\">sbin</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">/</span><span class=\"pln\">apache2ctl </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">-</span><span class=\"pln\">k $UCOMMAND<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class=\"kwd\" style=\"color: rgb(0, 0, 136); \">fi</span><span class=\"pln\"><br>&nbsp; &nbsp; </span><span class=\"kwd\" style=\"color: rgb(0, 0, 136); \">fi</span><span class=\"pln\"><br></span><span class=\"kwd\" style=\"color: rgb(0, 0, 136); \">fi</span><span class=\"pln\"><br>rm apctl</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">.</span><span class=\"pln\">tmp</span></pre><span style=\"font-family: \"PT Sans\", arial, serif; font-size: 13px; \">Не забываем поменять владельца файла</span><pre class=\"prettyprint lang-sh\" style=\"margin-top: 0px; margin-bottom: 0px; padding-top: 2px; padding-right: 2px; padding-bottom: 2px; padding-left: 2px; border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-top-style: solid; border-right-style: solid; border-bottom-style: solid; border-left-style: solid; border-top-color: rgb(136, 136, 136); border-right-color: rgb(136, 136, 136); border-bottom-color: rgb(136, 136, 136); border-left-color: rgb(136, 136, 136); font-size: 13px; \"><span class=\"pln\">chown root</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">:</span><span class=\"pln\">root </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">ФАЙЛ</span></pre><span style=\"font-family: \"PT Sans\", arial, serif; font-size: 13px; \">и дать ему SUID и сделать выполняемым</span><pre class=\"prettyprint lang-sh\" style=\"margin-top: 0px; margin-bottom: 0px; padding-top: 2px; padding-right: 2px; padding-bottom: 2px; padding-left: 2px; border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-top-style: solid; border-right-style: solid; border-bottom-style: solid; border-left-style: solid; border-top-color: rgb(136, 136, 136); border-right-color: rgb(136, 136, 136); border-bottom-color: rgb(136, 136, 136); border-left-color: rgb(136, 136, 136); font-size: 13px; \"><span class=\"pln\">chmod </span><span class=\"lit\" style=\"color: rgb(0, 102, 102); \">766</span><span class=\"pln\"> </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">ФАЙЛ</span><span class=\"pln\"><br>chmod </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">+</span><span class=\"pln\">S </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">ФАЙЛ</span></pre><span style=\"font-family: \"PT Sans\", arial, serif; font-size: 13px; \">В итоге получаем такую картину:</span><br style=\"font-family: \"PT Sans\", arial, serif; font-size: 13px; \"><span style=\"font-family: \"PT Sans\", arial, serif; font-size: 13px; \">&nbsp;</span><img src=\"http://lh3.ggpht.com/_A5Ovhkj8SqE/TSK7kZynAgI/AAAAAAAACdc/xQF7h7Rz-A0/s800/%D1%81%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA1.png\" height=\"238\" width=\"406\" style=\"border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; font-family: \"PT Sans\", arial, serif; font-size: 13px; \"><span style=\"font-family: \"PT Sans\", arial, serif; font-size: 13px; \">&nbsp;</span><br style=\"font-family: \"PT Sans\", arial, serif; font-size: 13px; \"><span style=\"font-family: \"PT Sans\", arial, serif; font-size: 13px; \">После выбора нужного пункта появится подтверждение. Нужно нажимать скорее ДА, ты же не делал бы этого если бы был не уверен! Ведь правда?</span><br style=\"font-family: \"PT Sans\", arial, serif; font-size: 13px; \"><img src=\"http://lh6.ggpht.com/_A5Ovhkj8SqE/TSK7kY5KKxI/AAAAAAAACdg/_JXVFgF0LWM/s800/%D1%81%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA2.png\" height=\"168\" width=\"325\" style=\"border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; font-family: \"PT Sans\", arial, serif; font-size: 13px; \">','2011-11-08 12:20:47','0000-00-00 00:00:00'),(43,41,'Отключение mail agent','<span style=\"font-family: \"PT Sans\", arial, serif; font-size: 13px; \">Чтобы отключить программу mail-agent на сервере шлюзе пишем следующую команду:</span><pre class=\"prettyprint lang-sh\" style=\"margin-top: 0px; margin-bottom: 0px; padding-top: 2px; padding-right: 2px; padding-bottom: 2px; padding-left: 2px; border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-top-style: solid; border-right-style: solid; border-bottom-style: solid; border-left-style: solid; border-top-color: rgb(136, 136, 136); border-right-color: rgb(136, 136, 136); border-bottom-color: rgb(136, 136, 136); border-left-color: rgb(136, 136, 136); font-size: 13px; \"><span class=\"pln\">iptables </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">-</span><span class=\"pln\">I FORWARD </span><span class=\"lit\" style=\"color: rgb(0, 102, 102); \">1</span><span class=\"pln\"> </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">-</span><span class=\"pln\">p tcp </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">--</span><span class=\"pln\">dport </span><span class=\"lit\" style=\"color: rgb(0, 102, 102); \">2042</span><span class=\"pln\"> </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">-</span><span class=\"pln\">s </span><span class=\"lit\" style=\"color: rgb(0, 102, 102); \">192.168</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">.</span><span class=\"lit\" style=\"color: rgb(0, 102, 102); \">0.11</span><span class=\"pln\"> </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">-</span><span class=\"pln\">j DROP<br>iptables </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">-</span><span class=\"pln\">I FORWARD </span><span class=\"lit\" style=\"color: rgb(0, 102, 102); \">1</span><span class=\"pln\"> </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">-</span><span class=\"pln\">p tcp </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">--</span><span class=\"pln\">dport </span><span class=\"lit\" style=\"color: rgb(0, 102, 102); \">2041</span><span class=\"pln\"> </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">-</span><span class=\"pln\">s </span><span class=\"lit\" style=\"color: rgb(0, 102, 102); \">192.168</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">.</span><span class=\"lit\" style=\"color: rgb(0, 102, 102); \">0.11</span><span class=\"pln\"> </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">-</span><span class=\"pln\">j DROP </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">-</span><span class=\"pln\"> </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">тут</span><span class=\"pln\"> </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">я</span><span class=\"pln\"> </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">не</span><span class=\"pln\"> </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">уверен</span><span class=\"pln\"><br>iptables </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">-</span><span class=\"pln\">I FORWARD </span><span class=\"lit\" style=\"color: rgb(0, 102, 102); \">2</span><span class=\"pln\"> </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">-</span><span class=\"pln\">p tcp </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">--</span><span class=\"pln\">dport </span><span class=\"lit\" style=\"color: rgb(0, 102, 102); \">443</span><span class=\"pln\"> </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">-</span><span class=\"pln\">s </span><span class=\"lit\" style=\"color: rgb(0, 102, 102); \">192.168</span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">.</span><span class=\"lit\" style=\"color: rgb(0, 102, 102); \">0.11</span><span class=\"pln\"> </span><span class=\"pun\" style=\"color: rgb(102, 102, 0); \">-</span><span class=\"pln\">j DROP</span></pre><span style=\"font-family: \"PT Sans\", arial, serif; font-size: 13px; \">Подробную информацию о протоколе читаем&nbsp;</span><a href=\"http://agent.mail.ru/ru/developers/protocol.html\" style=\"font-family: \"PT Sans\", arial, serif; font-size: 13px; \">тут</a>','2011-11-08 12:28:40','2011-11-08 12:29:40'),(44,70,'Настройка conky','<div style=\"text-align: center;\"><b>Проблема own_window_type override</b></div>В ОС openSUSE 11.3 нужно снять галку \"Скрывать служебные окна неактивных приложений\" находящуюся по адресу Параметры системы - поведение окно (на вкладке \"дополнительные\") чтобы conky не пряталась по клику на рабочий стол по соответствующей настройке. В других ОС это может называться \"hide skip taskbar windows\".','2011-11-08 12:33:00','2011-11-08 12:33:55');
/*!40000 ALTER TABLE `articles` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `categories`
--

DROP TABLE IF EXISTS `categories`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `categories` (
  `id` smallint(6) NOT NULL AUTO_INCREMENT,
  `sequence` int(11) NOT NULL DEFAULT '999',
  `parent` varchar(50) NOT NULL DEFAULT '',
  `name` varchar(50) NOT NULL DEFAULT '',
  `dateCreate` datetime NOT NULL,
  `dateChange` datetime NOT NULL,
  PRIMARY KEY (`id`),
  KEY `parent` (`parent`)
) ENGINE=InnoDB AUTO_INCREMENT=71 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `categories`
--

LOCK TABLES `categories` WRITE;
/*!40000 ALTER TABLE `categories` DISABLE KEYS */;
INSERT INTO `categories` VALUES (37,1,'Программирование','PHP','2011-10-18 10:19:56','2011-10-27 15:21:46'),(39,2,'Программирование','python','2011-10-18 10:20:42','2011-10-27 15:21:49'),(41,1,'Администрирование','Сетевое администирование','2011-10-18 10:21:28','2011-11-08 12:32:14'),(63,1,'','Программирование','2011-10-18 11:27:00','2011-10-28 14:11:41'),(64,2,'','Администрирование','2011-10-18 11:27:10','2011-10-28 14:11:45'),(65,999,'','О сайте','2011-10-27 15:21:13','0000-00-00 00:00:00'),(66,3,'','Криптография','2011-10-28 14:11:00','2011-10-28 14:11:49'),(67,1,'Криптография','OpenSSL','2011-10-28 14:11:01','2011-10-28 14:11:52'),(68,2,'Криптография','GnuPG','2011-10-28 14:11:19','2011-10-28 14:11:55'),(69,4,'','DIY','2011-10-28 14:15:19','2011-10-28 14:27:57'),(70,2,'Администрирование','Системное администрирование','2011-11-08 12:32:08','2011-11-08 12:32:17');
/*!40000 ALTER TABLE `categories` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `comments`
--

DROP TABLE IF EXISTS `comments`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comments` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `pageID` int(11) NOT NULL DEFAULT '0',
  `date` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `user` varchar(32) NOT NULL DEFAULT '',
  `text` text NOT NULL,
  PRIMARY KEY (`id`),
  KEY `pageID` (`pageID`,`date`)
) ENGINE=MyISAM DEFAULT CHARSET=cp1251;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comments`
--

LOCK TABLES `comments` WRITE;
/*!40000 ALTER TABLE `comments` DISABLE KEYS */;
/*!40000 ALTER TABLE `comments` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2011-12-06 11:48:51
